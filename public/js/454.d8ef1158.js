"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[454],{5561:function(e,a,n){n.d(a,{Z:function(){return w}});var l=n(5288),i=n(7707),o=n(2766);const t=e=>((0,l.dD)("data-v-ca5d9332"),e=e(),(0,l.Cn)(),e),d={id:"navbar"},r=t((()=>(0,l._)("h2",{id:"logo"},[(0,l._)("a",{href:"/"},"TEAMEET")],-1))),u=["href"];var s=(0,l.aZ)({__name:"Navbar",emits:["loadfinished"],setup(e,{emit:a}){const n=(0,o.iH)(null),t=(0,o.iH)({loaded:!1,name:"",uuid:0});return(0,l.bv)((()=>{n.value.href="/login?href="+(encodeURI(window.location.pathname+window.location.search)||"/"),fetch("/api/login").then((e=>e.json())).then((e=>{200!=e.status?a("loadfinished",{loggedIn:!1}):(t.value={loaded:!0,name:e.body.name,uuid:e.body.uuid},a("loadfinished",{loggedIn:!0,payload:e.body}))}))})),(e,a)=>((0,l.wg)(),(0,l.iD)("div",d,[r,(0,l._)("div",null,[t.value.loaded?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("a",{key:0,class:"account",ref_key:"login",ref:n},"login",512)),t.value.loaded?((0,l.wg)(),(0,l.iD)("a",{key:1,class:"account",href:"/profile/?id="+t.value.uuid},(0,i.zw)(t.value?.name),9,u)):(0,l.kq)("",!0)])]))}}),f=n(7184);const c=(0,f.Z)(s,[["__scopeId","data-v-ca5d9332"]]);var w=c},3454:function(e,a,n){n.r(a),n.d(a,{default:function(){return C}});var l=n(5288),i=n(7707),o=n(2766),t=n(5561);const d=e=>((0,l.dD)("data-v-9a524062"),e=e(),(0,l.Cn)(),e),r={key:0},u={key:1},s=d((()=>(0,l._)("p",null,"Sorry, we couldn't find this user :/",-1))),f=[s],c={key:2},w={key:3},g={key:0},p=d((()=>(0,l._)("label",null,"bio:",-1))),v={id:"bio"},h=d((()=>(0,l._)("p",{style:{"font-weight":"bold"}},"owner of",-1))),y={key:1},k=["href"],m=d((()=>(0,l._)("p",{style:{"font-weight":"bold"}},"member of",-1))),b={key:3},_=["href"],D={key:4},j=d((()=>(0,l._)("p",{style:{"font-weight":"bold"}},"your join requests",-1))),z={key:0},q=["href"],H=d((()=>(0,l._)("a",{href:"/profile/settings",class:"button"},"settings",-1)));var I=(0,l.aZ)({__name:"Profile",setup(e){function a(e,a){if(!e.length)return[null,null];let n=e[0],l=n>a?n-a:a-n;for(const i of e){let e=i>a?i-a:a-i;e<l&&(l=e,n=i)}return[n,l]}function n(e){if(e.length<100)return e;const n=[/[!.?;]\s/g,/,\s/g,/.\s/g];let l,i=new Set,o=null,t=null;for(const d of n){while(l=d.exec(e))i.add(l.index+1);if([o,t]=a([...i].filter((e=>e<=120&&e>=70)),100),t&&t<10)return e.substring(0,o)+"…"}return t&&t<20?e.substring(0,o)+"…":e.substring(0,100)+"…"}const d=(0,o.iH)(null),s=new URLSearchParams(document.location.search);return fetch("/api/profile/?id="+s.get("id")).then((e=>e.json())).then((async e=>{200==e.status?(document.title=`Profile of ${e.body.payload.name} | Teameet`,d.value=e.body):console.error(e)})),(e,a)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("header",null,[(0,l.Wm)(t.Z)]),(0,l._)("main",null,[d.value?.ownInfo?((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("p",null,"Hello there, "+(0,i.zw)(d.value.payload.name)+"!",1)])):d.value?((0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("p",null,"This is the beautiful profile of "+(0,i.zw)(d.value.payload.name)+"!",1)])):((0,l.wg)(),(0,l.iD)("div",u,f)),d.value?((0,l.wg)(),(0,l.iD)("div",w,[d.value.payload.bio?.default?((0,l.wg)(),(0,l.iD)("div",g,[p,(0,l._)("p",v,(0,i.zw)(d.value.payload.bio?.default),1)])):(0,l.kq)("",!0),h,d.value.payload.ownerOf.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:2},(0,l.Ko)(d.value.payload.ownerOf,(e=>((0,l.wg)(),(0,l.iD)("p",{key:e.id},[(0,l._)("a",{class:"link",href:"/project/?id="+e.id},(0,i.zw)(e.name),9,k),(0,l.Uk)(": "+(0,i.zw)(n(e.description,100)),1)])))),128)):((0,l.wg)(),(0,l.iD)("p",y,"no projects")),m,d.value.payload.memberOf.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:4},(0,l.Ko)(d.value.payload.memberOf,(e=>((0,l.wg)(),(0,l.iD)("p",{key:e.id},[(0,l._)("a",{class:"link",href:"/project/?id="+e.id},(0,i.zw)(e.name),9,_),(0,l.Uk)(": "+(0,i.zw)(n(e.description,100)),1)])))),128)):((0,l.wg)(),(0,l.iD)("p",b,"no projects"))])):(0,l.kq)("",!0),d.value?.ownInfo?((0,l.wg)(),(0,l.iD)("div",D,[j,d.value.payload.joins.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(d.value.payload.joins,((e,a)=>((0,l.wg)(),(0,l.iD)("p",{key:a},[(0,l._)("a",{class:"link",href:"/project/?id="+e.receiver.id},(0,i.zw)(e.receiver.name),9,q),(0,l.Uk)(": "+(0,i.zw)(e.message),1)])))),128)):((0,l.wg)(),(0,l.iD)("p",z,"you have no unanswered join requests")),H])):(0,l.kq)("",!0)])]))}}),Z=n(7184);const U=(0,Z.Z)(I,[["__scopeId","data-v-9a524062"]]);var C=U}}]);
//# sourceMappingURL=454.d8ef1158.js.map