{"version":3,"file":"js/455.675fe9e7.js","mappings":"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","sources":["webpack://client/E:\\dev\\Dokumente\\teameet\\client\\src\\components\\Navbar.vue?b57e","webpack://client/E:\\dev\\Dokumente\\teameet\\client\\src\\components\\Navbar.vue","webpack://client/E:\\dev\\Dokumente\\teameet\\client\\src\\pages\\project\\Project.vue?18a4","webpack://client/E:\\dev\\Dokumente\\teameet\\client\\src\\pages\\project\\Project.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-68bee470\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { id: \"navbar\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", { id: \"logo\" }, [\n  /*#__PURE__*/_createElementVNode(\"a\", { href: \"/\" }, \"TEAMEET\")\n], -1))\n\nimport { ref, onMounted } from \"vue\";\r\n\r\n// const accountButtonData = reactive({\r\n//   login: null,\r\n//   profile: null,\r\n// });\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Navbar',\n  setup(__props) {\n\r\nconst login = ref<HTMLLinkElement | null>(null);\r\nconst profile = ref<HTMLLinkElement | null>(null);\r\n\r\nonMounted(() => {\r\n  login.value.href =\r\n    \"/login?href=\" +\r\n    encodeURI(window.location.pathname + window.location.search);\r\n  fetch(\"/api/login\")\r\n    .then((r) => r.json())\r\n    .then((r) => {\r\n      if (r.status != 200) {\r\n        login.value.style.display = \"\";\r\n      } else {\r\n        (<any>window).userprofile = r.body;\r\n        let element = profile.value;\r\n        element.href = \"/profile/?id=\" + r.body.uuid;\r\n        element.style.display = \"\";\r\n        element.innerText = r.body.name;\r\n      }\r\n    });\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"p\", null, [\n        _createElementVNode(\"a\", {\n          class: \"account\",\n          ref_key: \"login\",\n          ref: login,\n          style: {\"display\":\"none\"}\n        }, \"login\", 512)\n      ]),\n      _createElementVNode(\"p\", null, [\n        _createElementVNode(\"a\", {\n          class: \"account\",\n          ref_key: \"profile\",\n          ref: profile,\n          style: {\"display\":\"none\"}\n        }, null, 512)\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./Navbar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Navbar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=68bee470&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\dev\\\\Dokumente\\\\teameet\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-68bee470\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"p\", { id: \"description\" }, null, -1)\n\nimport { ref, onMounted } from \"vue\";\r\nimport Navbar from \"../../components/Navbar.vue\";\r\n\r\n// TODO: make this site more beautiful\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Project',\n  setup(__props) {\n\r\nconst owner = ref({\r\n  name: \"\",\r\n});\r\n\r\nconst members = ref<string[]>([]);\r\n\r\nconst name = ref<HTMLElement | null>(null);\r\nconst info = ref<HTMLElement | null>(null);\r\nconst memberlogin = ref<HTMLLinkElement | null>(null);\r\nconst settings = ref<HTMLLinkElement | null>(null);\r\nconst member = ref<HTMLElement | null>(null);\r\nconst joinbutton = ref<HTMLAnchorElement | null>(null);\r\n\r\nconst params = new URLSearchParams(document.location.search);\r\nlet PROJECT;\r\n\r\nfunction remove() {\r\n  fetch(\"/api/project/?id=\" + params.get(\"id\"), {\r\n    method: \"DELETE\",\r\n  })\r\n    .then(console.log)\r\n    .then(() => {\r\n      alert(\"going back to homepage\");\r\n      window.location.href = \"/\";\r\n    });\r\n}\r\n\r\nonMounted(() => {\r\n  if (params.get(\"id\")) {\r\n    fetch(\"/api/project?id=\" + params.get(\"id\"))\r\n      .then((r) => r.json())\r\n      .then((res) => {\r\n        if (res.status != 200) {\r\n          console.error(res);\r\n          return;\r\n        }\r\n        PROJECT = res.body.projects[0];\r\n        document.title = `${PROJECT.name} | Teameet`;\r\n        main();\r\n      });\r\n  } else {\r\n    location.href = \"/\";\r\n  }\r\n  function isMember(userid, project) {\r\n    for (let mem of project.members) {\r\n      if (mem.uuid == userid) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  function main() {\r\n    name.value.innerText = PROJECT.name;\r\n    (<HTMLParagraphElement>info.value.querySelector(\"#description\")).innerText =\r\n      PROJECT.description;\r\n    owner.value = PROJECT.owner;\r\n    members.value = PROJECT.members.map((member) => member.name);\r\n    fetch(\"/api/login\")\r\n      .then((r) => r.json())\r\n      .then(async (r) => {\r\n        if (r.status != 200) {\r\n          memberlogin.value.href =\r\n            \"/login?ref=\" + encodeURI(\"/project/?id=\" + params.get(\"id\"));\r\n          memberlogin.value.style.display = \"\";\r\n          return;\r\n        }\r\n        if (r.body.uuid == PROJECT.owner.uuid) {\r\n          settings.value.style.display = \"\";\r\n          settings.value.href = \"/project/settings/?id=\" + params.get(\"id\");\r\n          return;\r\n        }\r\n        if (isMember(r.body.uuid, PROJECT)) {\r\n          member.value.style.display = \"\";\r\n        } else {\r\n          joinbutton.value.style.display = \"\";\r\n          joinbutton.value.href = \"/project/join/?id=\" + params.get(\"id\");\r\n        }\r\n      });\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(Navbar),\n    _createElementVNode(\"main\", null, [\n      _createElementVNode(\"span\", {\n        style: {\"font-weight\":\"bold\"},\n        ref_key: \"name\",\n        ref: name,\n        id: \"name\"\n      }, null, 512),\n      _createElementVNode(\"div\", {\n        ref_key: \"info\",\n        ref: info\n      }, [\n        _hoisted_1,\n        _createElementVNode(\"p\", null, \"owner: \" + _toDisplayString(owner.value.name), 1),\n        _createElementVNode(\"p\", null, \"members: \" + _toDisplayString(members.value.toString()), 1)\n      ], 512),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (remove())),\n          style: {\"display\":\"none\"},\n          ref_key: \"settings\",\n          ref: settings,\n          id: \"settings\"\n        }, \" delete this project \", 512),\n        _createElementVNode(\"a\", {\n          class: \"button\",\n          style: {\"display\":\"none\"},\n          ref_key: \"memberlogin\",\n          ref: memberlogin,\n          id: \"memberlogin\"\n        }, \"login to become a member\", 512),\n        _createElementVNode(\"a\", {\n          class: \"button\",\n          ref_key: \"joinbutton\",\n          ref: joinbutton,\n          id: \"joinbutton\",\n          style: {\"display\":\"none\",\"cursor\":\"pointer\"}\n        }, \" become a member \", 512),\n        _createElementVNode(\"span\", {\n          ref_key: \"member\",\n          ref: member,\n          id: \"member\",\n          style: {\"display\":\"none\"}\n        }, \"you are a member\", 512)\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./Project.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Project.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","id","_hoisted_2","_createElementVNode","href","_defineComponent","__name","setup","__props","login","ref","profile","onMounted","value","encodeURI","window","location","pathname","search","fetch","then","r","json","status","style","display","userprofile","body","element","uuid","innerText","name","_ctx","_cache","_openBlock","_createElementBlock","class","ref_key","__exports__","owner","members","info","memberlogin","settings","member","joinbutton","params","URLSearchParams","document","PROJECT","remove","get","method","console","log","alert","isMember","userid","project","mem","main","querySelector","description","map","async","res","projects","title","error","_createVNode","Navbar","_toDisplayString","toString","onClick","$event"],"sourceRoot":""}