"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[243],{5561:function(e,n,i){i.d(n,{Z:function(){return f}});var t=i(5288),a=i(7707),o=i(2766);const l=e=>((0,t.dD)("data-v-ca5d9332"),e=e(),(0,t.Cn)(),e),d={id:"navbar"},u=l((()=>(0,t._)("h2",{id:"logo"},[(0,t._)("a",{href:"/"},"TEAMEET")],-1))),r=["href"];var s=(0,t.aZ)({__name:"Navbar",emits:["loadfinished"],setup(e,{emit:n}){const i=(0,o.iH)(null),l=(0,o.iH)({loaded:!1,name:"",uuid:0});return(0,t.bv)((()=>{i.value.href="/login?href="+(encodeURI(window.location.pathname+window.location.search)||"/"),fetch("/api/login").then((e=>e.json())).then((e=>{200!=e.status?n("loadfinished",{loggedIn:!1}):(l.value={loaded:!0,name:e.body.name,uuid:e.body.uuid},n("loadfinished",{loggedIn:!0,payload:e.body}))}))})),(e,n)=>((0,t.wg)(),(0,t.iD)("div",d,[u,(0,t._)("div",null,[l.value.loaded?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("a",{key:0,class:"account",ref_key:"login",ref:i},"login",512)),l.value.loaded?((0,t.wg)(),(0,t.iD)("a",{key:1,class:"account",href:"/profile/?id="+l.value.uuid},(0,a.zw)(l.value?.name),9,r)):(0,t.kq)("",!0)])]))}}),g=i(7184);const c=(0,g.Z)(s,[["__scopeId","data-v-ca5d9332"]]);var f=c},243:function(e,n,i){i.r(n),i.d(n,{default:function(){return N}});var t=i(5288),a=i(7707),o=i(2766),l=i(5561);const d=e=>((0,t.dD)("data-v-692775f0"),e=e(),(0,t.Cn)(),e),u={id:"name"},r={id:"info"},s=d((()=>(0,t._)("label",{style:{"font-weight":"bold"}},"description:",-1))),g={id:"description"},c={key:0,style:{"font-weight":"bold"}},f=(0,t.Uk)("links "),h=d((()=>(0,t._)("span",{style:{opacity:"0.3","font-weight":"initial"}},"(warning: be cautious visiting other web sites)",-1))),w=[f,h],m=(0,t.Uk)(": "),v=["href"],b=d((()=>(0,t._)("br",null,null,-1))),p={style:{"font-weight":"bold"}},k=(0,t.Uk)(" owner: "),_=["href"],y={style:{"font-weight":"bold"}},D=(0,t.Uk)(" members: "),j=["href"],q={key:0,style:{"font-weight":"initial"}},U={key:1},z=d((()=>(0,t._)("p",{style:{"font-weight":"bold"}},"Users who want to join this project",-1))),H=["href"],I={key:0},Z=d((()=>(0,t._)("br",null,null,-1))),R=["href"],C=["href"],E=["href"];var K;(function(e){e[e["undefined"]=0]="undefined",e[e["logged_out"]=1]="logged_out",e[e["logged_in"]=2]="logged_in",e[e["member"]=3]="member",e[e["owner"]=4]="owner"})(K||(K={}));var S=(0,t.aZ)({__name:"Project",setup(e){const n=(0,o.iH)({name:"sorry, we coudn't find this project",description:"you can go back to the homepage",owner:{name:"",uuid:0},members:[],joinRequests:[]}),i=(0,o.iH)(K.undefined),d=(0,o.iH)(0),f=new URLSearchParams(document.location.search);function h(e,n){for(let i of n.members)if(i.uuid==e)return!0;return!1}return(0,t.bv)((()=>{f.get("id")?(d.value=Number.parseInt(f.get("id")??""),fetch("/api/project?id="+f.get("id")).then((e=>e.json())).then((e=>{200==e.status?(n.value=e.body.projects[0],document.title=`${n.value.name} | Teameet`,fetch("/api/login").then((e=>e.json())).then((async e=>{200==e.status?e.body.uuid!=n.value.owner.uuid?h(e.body.uuid,n.value)?i.value=K.member:i.value=K.logged_in:i.value=K.owner:i.value=K.logged_out}))):console.error(e)}))):location.href="/"})),(e,h)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(l.Z),(0,t._)("main",null,[(0,t._)("h2",u,(0,a.zw)(n.value.name),1),(0,t._)("div",r,[s,(0,t._)("p",g,(0,a.zw)(n.value.description),1),n.value.additional?.links?.length?((0,t.wg)(),(0,t.iD)("label",c,w)):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.value.additional?.links,((e,n)=>((0,t.wg)(),(0,t.iD)("p",{key:n},[(0,t._)("span",null,(0,a.zw)(e.name),1),m,(0,t._)("a",{class:"link",href:e.target},(0,a.zw)(e.target),9,v)])))),128)),b,(0,t._)("p",p,[k,(0,t._)("a",{style:{"font-weight":"initial"},class:"link",href:"/profile/?id="+n.value.owner.uuid},(0,a.zw)(n.value.owner.name),9,_)]),(0,t._)("p",y,[D,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.value.members,(e=>((0,t.wg)(),(0,t.iD)("a",{class:"link",style:{"font-weight":"initial"},key:e.id,href:"/profile/?id="+e.uuid},(0,a.zw)(e.name)+", ",9,j)))),128)),n.value.members.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("span",q," no members "))]),i.value>=K.member?((0,t.wg)(),(0,t.iD)("div",U,[z,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.value.joinRequests,(e=>((0,t.wg)(),(0,t.iD)("p",{key:e.sender.uuid},[(0,t._)("a",{class:"link",href:"/profile/?id="+e.sender.uuid},(0,a.zw)(e.sender.name),9,H),(0,t.Uk)(": "+(0,a.zw)(e.message),1)])))),128)),n.value.joinRequests?.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("p",I," there are no open join requests "))])):(0,t.kq)("",!0)]),Z,(0,t._)("div",null,[i.value==K.owner?((0,t.wg)(),(0,t.iD)("a",{key:0,class:"button",href:"/project/settings/?id="+(0,o.SU)(f).get("id"),id:"settings"}," settings ",8,R)):(0,t.kq)("",!0),i.value==K.logged_out?((0,t.wg)(),(0,t.iD)("a",{key:1,class:"button",id:"memberlogin",href:"/login?href=/project/?id="+d.value},"login to become a member",8,C)):(0,t.kq)("",!0),i.value==K.logged_in?((0,t.wg)(),(0,t.iD)("a",{key:2,id:"joinbutton",class:"link",href:"/project/join/?id="+(0,o.SU)(f).get("id")}," become a member ",8,E)):(0,t.kq)("",!0)])])]))}}),T=i(7184);const Y=(0,T.Z)(S,[["__scopeId","data-v-692775f0"]]);var N=Y}}]);
//# sourceMappingURL=243.75e9954a.js.map