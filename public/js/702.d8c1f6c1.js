"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[702],{5561:function(e,n,o){o.d(n,{Z:function(){return h}});var a=o(5288),i=o(7707),t=o(2766);const l=e=>((0,a.dD)("data-v-ca5d9332"),e=e(),(0,a.Cn)(),e),d={id:"navbar"},u=l((()=>(0,a._)("h2",{id:"logo"},[(0,a._)("a",{href:"/"},"TEAMEET")],-1))),r=["href"];var c=(0,a.aZ)({__name:"Navbar",emits:["loadfinished"],setup(e,{emit:n}){const o=(0,t.iH)(null),l=(0,t.iH)({loaded:!1,name:"",uuid:0});return(0,a.bv)((()=>{o.value.href="/login?href="+(encodeURI(window.location.pathname+window.location.search)||"/"),fetch("/api/login").then((e=>e.json())).then((e=>{200!=e.status?n("loadfinished",{loggedIn:!1}):(l.value={loaded:!0,name:e.body.name,uuid:e.body.uuid},n("loadfinished",{loggedIn:!0,payload:e.body}))}))})),(e,n)=>((0,a.wg)(),(0,a.iD)("div",d,[u,(0,a._)("div",null,[l.value.loaded?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:0,class:"account",ref_key:"login",ref:o},"login",512)),l.value.loaded?((0,a.wg)(),(0,a.iD)("a",{key:1,class:"account",href:"/profile/?id="+l.value.uuid},(0,i.zw)(l.value?.name),9,r)):(0,a.kq)("",!0)])]))}}),s=o(7184);const f=(0,s.Z)(c,[["__scopeId","data-v-ca5d9332"]]);var h=f},7702:function(e,n,o){o.r(n),o.d(n,{default:function(){return d}});var a=o(5288),i=o(5561),t=(0,a.aZ)({__name:"Settings",setup(e){function n(e){e.loggedIn||(window.location.href="/login/?href=/profile/settings")}function o(){fetch("/api/login",{method:"DELETE"}).then((()=>{window.location.href="/"}))}function t(){confirm("are you sure")&&fetch("/api/register",{method:"DELETE"}).then((e=>{200==e.status?location.href="/":(console.error(e),e.text().then(console.error))}))}return(e,l)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("header",null,[(0,a.Wm)(i.Z,{onLoadfinished:n})]),(0,a._)("main",null,[(0,a._)("button",{onClick:l[0]||(l[0]=e=>o())},"Log out"),(0,a._)("button",{onClick:l[1]||(l[1]=e=>t())},"delete my account")])]))}});const l=t;var d=l}}]);
//# sourceMappingURL=702.d8c1f6c1.js.map