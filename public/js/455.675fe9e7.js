"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[455],{7094:function(e,n,t){t.d(n,{Z:function(){return c}});var l=t(5288),i=t(2766);const o=e=>((0,l.dD)("data-v-68bee470"),e=e(),(0,l.Cn)(),e),a={id:"navbar"},r=o((()=>(0,l._)("h2",{id:"logo"},[(0,l._)("a",{href:"/"},"TEAMEET")],-1)));var s=(0,l.aZ)({__name:"Navbar",setup(e){const n=(0,i.iH)(null),t=(0,i.iH)(null);return(0,l.bv)((()=>{n.value.href="/login?href="+encodeURI(window.location.pathname+window.location.search),fetch("/api/login").then((e=>e.json())).then((e=>{if(200!=e.status)n.value.style.display="";else{window.userprofile=e.body;let n=t.value;n.href="/profile/?id="+e.body.uuid,n.style.display="",n.innerText=e.body.name}}))})),(e,i)=>((0,l.wg)(),(0,l.iD)("div",a,[r,(0,l._)("div",null,[(0,l._)("p",null,[(0,l._)("a",{class:"account",ref_key:"login",ref:n,style:{display:"none"}},"login",512)]),(0,l._)("p",null,[(0,l._)("a",{class:"account",ref_key:"profile",ref:t,style:{display:"none"}},null,512)])])]))}}),u=t(7184);const d=(0,u.Z)(s,[["__scopeId","data-v-68bee470"]]);var c=d},6455:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var l=t(5288),i=t(7707),o=t(2766),a=t(7094);const r=(0,l._)("p",{id:"description"},null,-1);var s=(0,l.aZ)({__name:"Project",setup(e){const n=(0,o.iH)({name:""}),t=(0,o.iH)([]),s=(0,o.iH)(null),u=(0,o.iH)(null),d=(0,o.iH)(null),c=(0,o.iH)(null),f=(0,o.iH)(null),p=(0,o.iH)(null),m=new URLSearchParams(document.location.search);let y;function v(){fetch("/api/project/?id="+m.get("id"),{method:"DELETE"}).then(console.log).then((()=>{alert("going back to homepage"),window.location.href="/"}))}return(0,l.bv)((()=>{function e(e,n){for(let t of n.members)if(t.uuid==e)return!0;return!1}function l(){s.value.innerText=y.name,u.value.querySelector("#description").innerText=y.description,n.value=y.owner,t.value=y.members.map((e=>e.name)),fetch("/api/login").then((e=>e.json())).then((async n=>200!=n.status?(d.value.href="/login?ref="+encodeURI("/project/?id="+m.get("id")),void(d.value.style.display="")):n.body.uuid==y.owner.uuid?(c.value.style.display="",void(c.value.href="/project/settings/?id="+m.get("id"))):void(e(n.body.uuid,y)?f.value.style.display="":(p.value.style.display="",p.value.href="/project/join/?id="+m.get("id")))))}m.get("id")?fetch("/api/project?id="+m.get("id")).then((e=>e.json())).then((e=>{200==e.status?(y=e.body.projects[0],document.title=`${y.name} | Teameet`,l()):console.error(e)})):location.href="/"})),(e,o)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(a.Z),(0,l._)("main",null,[(0,l._)("span",{style:{"font-weight":"bold"},ref_key:"name",ref:s,id:"name"},null,512),(0,l._)("div",{ref_key:"info",ref:u},[r,(0,l._)("p",null,"owner: "+(0,i.zw)(n.value.name),1),(0,l._)("p",null,"members: "+(0,i.zw)(t.value.toString()),1)],512),(0,l._)("div",null,[(0,l._)("button",{onClick:o[0]||(o[0]=e=>v()),style:{display:"none"},ref_key:"settings",ref:c,id:"settings"}," delete this project ",512),(0,l._)("a",{class:"button",style:{display:"none"},ref_key:"memberlogin",ref:d,id:"memberlogin"},"login to become a member",512),(0,l._)("a",{class:"button",ref_key:"joinbutton",ref:p,id:"joinbutton",style:{display:"none",cursor:"pointer"}}," become a member ",512),(0,l._)("span",{ref_key:"member",ref:f,id:"member",style:{display:"none"}},"you are a member",512)])])]))}});const u=s;var d=u}}]);
//# sourceMappingURL=455.675fe9e7.js.map