{"version":3,"file":"js/995.e49b6684.js","mappings":"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","sources":["webpack://client/E:\\dev\\Dokumente\\teameet\\client\\src\\components\\Navbar.vue?b57e","webpack://client/E:\\dev\\Dokumente\\teameet\\client\\src\\components\\Navbar.vue","webpack://client/E:\\dev\\Dokumente\\teameet\\client\\src\\pages\\project\\Project.vue?18a4","webpack://client/E:\\dev\\Dokumente\\teameet\\client\\src\\pages\\project\\Project.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2d25f6b7\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { id: \"navbar\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", { id: \"logo\" }, [\n  /*#__PURE__*/_createElementVNode(\"a\", { href: \"/\" }, \"TEAMEET\")\n], -1))\nconst _hoisted_3 = [\"href\"]\n\nimport { ref, onMounted } from \"vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Navbar',\n  emits: [\"loadfinished\"],\n  setup(__props, { emit: userInfo }) {\n\r\nconst login = ref<HTMLLinkElement | null>(null);\r\nconst profile = ref({\r\n  loaded: false,\r\n  name: \"\",\r\n  uuid: 0,\r\n});\r\n\r\n\r\n\r\nonMounted(() => {\r\n  (<HTMLLinkElement>login.value).href =\r\n    \"/login?href=\" +\r\n    (encodeURI(window.location.pathname + window.location.search) || \"/\");\r\n  fetch(\"/api/login\")\r\n    .then((r) => r.json())\r\n    .then((r) => {\r\n      if (r.status != 200) {\r\n        userInfo(\"loadfinished\", {\r\n          loggedIn: false,\r\n        });\r\n      } else {\r\n        profile.value = {\r\n          loaded: true,\r\n          name: r.body.name,\r\n          uuid: r.body.uuid,\r\n        };\r\n        userInfo(\"loadfinished\", {\r\n          loggedIn: true,\r\n          payload: r.body,\r\n        });\r\n      }\r\n    });\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", null, [\n      (!profile.value.loaded)\n        ? (_openBlock(), _createElementBlock(\"a\", {\n            key: 0,\n            class: \"account\",\n            ref_key: \"login\",\n            ref: login\n          }, \"login\", 512))\n        : _createCommentVNode(\"\", true),\n      (profile.value.loaded)\n        ? (_openBlock(), _createElementBlock(\"a\", {\n            key: 1,\n            class: \"account\",\n            href: '/profile/?id=' + profile.value.uuid\n          }, _toDisplayString(profile.value?.name), 9, _hoisted_3))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./Navbar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Navbar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=2d25f6b7&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\dev\\\\Dokumente\\\\teameet\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2d25f6b7\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4e080168\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { id: \"name\" }\nconst _hoisted_2 = { id: \"info\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"description:\", -1))\nconst _hoisted_4 = { id: \"description\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" owner: \")\nconst _hoisted_7 = [\"href\"]\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\" members: \")\nconst _hoisted_9 = [\"href\"]\nconst _hoisted_10 = [\"href\"]\nconst _hoisted_11 = {\n  key: 3,\n  id: \"member\"\n}\n\nimport { ref, onMounted } from \"vue\";\r\n// @ts-ignore\r\nimport Navbar from \"@/components/Navbar.vue\";\r\n\r\n// TODO: make this site more beautiful and remove errors\r\n// TODO: what if project doesn't exist\r\n\r\nenum level {\r\n  undefined = 0,\r\n  logged_out,\r\n  logged_in,\r\n  member,\r\n  owner,\r\n  // admin\r\n}\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Project',\n  setup(__props) {\n\r\nconst project = ref({\r\n  name: \"sorry, we coudn't find this project\",\r\n  description: \"you can go back to the homepage\",\r\n  owner: {\r\n    name: \"\",\r\n    uuid: 0,\r\n  },\r\n  members: [],\r\n});\r\n\r\nconst userLevel = ref(level.undefined);\r\nconst id = ref(0);\r\n\r\nconst params = new URLSearchParams(document.location.search);\r\n\r\n// TODO\r\nfunction join() {}\r\n\r\nfunction remove() {\r\n  fetch(\"/api/project/?id=\" + params.get(\"id\"), {\r\n    method: \"DELETE\",\r\n  }).then((r) => {\r\n    window.location.href = \"/\";\r\n  });\r\n}\r\n\r\nonMounted(() => {\r\n  if (params.get(\"id\")) {\r\n    id.value = Number.parseInt(params.get(\"id\") ?? \"\");\r\n    fetch(\"/api/project?id=\" + params.get(\"id\"))\r\n      .then((r) => r.json())\r\n      .then((res) => {\r\n        if (res.status != 200) {\r\n          console.error(res);\r\n          return;\r\n        }\r\n        project.value = res.body.projects[0];\r\n        document.title = `${project.value.name} | Teameet`;\r\n        main();\r\n      });\r\n  } else {\r\n    location.href = \"/\";\r\n  }\r\n  function isMember(\r\n    userid: number,\r\n    project: {\r\n      members: { uuid: number }[];\r\n    }\r\n  ) {\r\n    for (let mem of project.members) {\r\n      if (mem.uuid == userid) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  function main() {\r\n    fetch(\"/api/login\")\r\n      .then((r) => r.json())\r\n      .then(async (r) => {\r\n        if (r.status != 200) {\r\n          userLevel.value = level.logged_out;\r\n          return;\r\n        }\r\n        if (r.body.uuid == project.value.owner.uuid) {\r\n          userLevel.value = level.owner;\r\n          return;\r\n        }\r\n        if (isMember(r.body.uuid, project.value)) {\r\n          userLevel.value = level.member;\r\n        } else {\r\n          userLevel.value = level.logged_in;\r\n        }\r\n      });\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(Navbar),\n    _createElementVNode(\"main\", null, [\n      _createElementVNode(\"h2\", _hoisted_1, _toDisplayString(project.value.name), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _hoisted_3,\n        _createElementVNode(\"p\", _hoisted_4, _toDisplayString(project.value.description), 1),\n        _hoisted_5,\n        _createElementVNode(\"p\", null, [\n          _hoisted_6,\n          _createElementVNode(\"a\", {\n            class: \"personlink\",\n            href: '/profile/?id=' + project.value.owner.uuid\n          }, _toDisplayString(project.value.owner.name), 9, _hoisted_7)\n        ]),\n        _createElementVNode(\"p\", null, [\n          _hoisted_8,\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(project.value.members, (member) => {\n            return (_openBlock(), _createElementBlock(\"a\", {\n              class: \"personlink\",\n              key: member.id,\n              href: '/profile/?id=' + member.uuid\n            }, _toDisplayString(member.name) + \",\", 9, _hoisted_9))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"div\", null, [\n        (userLevel.value == level.owner)\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (remove())),\n              id: \"settings\"\n            }, \" delete this project \"))\n          : _createCommentVNode(\"\", true),\n        (userLevel.value == level.logged_out)\n          ? (_openBlock(), _createElementBlock(\"a\", {\n              key: 1,\n              class: \"button\",\n              id: \"memberlogin\",\n              href: '/login?href=/project/?id=' + id.value\n            }, \"login to become a member\", 8, _hoisted_10))\n          : _createCommentVNode(\"\", true),\n        (userLevel.value == level.logged_in)\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 2,\n              id: \"joinbutton\",\n              style: {\"cursor\":\"pointer\"},\n              onClick: _cache[1] || (_cache[1] = ($event: any) => (join()))\n            }, \" become a member \"))\n          : _createCommentVNode(\"\", true),\n        (userLevel.value == level.member)\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_11, \"you are a member\"))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./Project.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Project.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Project.vue?vue&type=style&index=0&id=4e080168&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\dev\\\\Dokumente\\\\teameet\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4e080168\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","id","_hoisted_2","_createElementVNode","href","_hoisted_3","_defineComponent","__name","emits","setup","__props","emit","userInfo","login","ref","profile","loaded","name","uuid","onMounted","value","encodeURI","window","location","pathname","search","fetch","then","r","json","status","loggedIn","body","payload","_ctx","_cache","_openBlock","_createElementBlock","_createCommentVNode","key","class","ref_key","_toDisplayString","__exports__","_hoisted_4","_hoisted_5","_hoisted_6","_createTextVNode","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","level","project","description","owner","members","userLevel","undefined","params","URLSearchParams","document","join","remove","get","method","isMember","userid","mem","main","async","member","logged_in","logged_out","Number","parseInt","res","projects","title","console","error","_createVNode","Navbar","_Fragment","_renderList","onClick","$event","style"],"sourceRoot":""}