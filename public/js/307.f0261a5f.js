"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[307],{2168:function(e,o,l){l.d(o,{Z:function(){return s}});var n=l(5288),a=l(7707),i=l(2766);const t=e=>((0,n.dD)("data-v-2d25f6b7"),e=e(),(0,n.Cn)(),e),u={id:"navbar"},d=t((()=>(0,n._)("h2",{id:"logo"},[(0,n._)("a",{href:"/"},"TEAMEET")],-1))),r=["href"];var c=(0,n.aZ)({__name:"Navbar",emits:["loadfinished"],setup(e,{emit:o}){const l=(0,i.iH)(null),t=(0,i.iH)({loaded:!1,name:"",uuid:0});return(0,n.bv)((()=>{l.value.href="/login?href="+(encodeURI(window.location.pathname+window.location.search)||"/"),fetch("/api/login").then((e=>e.json())).then((e=>{200!=e.status?o("loadfinished",{loggedIn:!1}):(t.value={loaded:!0,name:e.body.name,uuid:e.body.uuid},o("loadfinished",{loggedIn:!0,payload:e.body}))}))})),(e,o)=>((0,n.wg)(),(0,n.iD)("div",u,[d,(0,n._)("div",null,[t.value.loaded?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("a",{key:0,class:"account",ref_key:"login",ref:l},"login",512)),t.value.loaded?((0,n.wg)(),(0,n.iD)("a",{key:1,class:"account",href:"/profile/?id="+t.value.uuid},(0,a.zw)(t.value?.name),9,r)):(0,n.kq)("",!0)])]))}}),f=l(7184);const w=(0,f.Z)(c,[["__scopeId","data-v-2d25f6b7"]]);var s=w},3307:function(e,o,l){l.r(o),l.d(o,{default:function(){return k}});var n=l(5288),a=l(7707),i=l(2766),t=l(2168);const u=(0,n._)("div",null,null,-1),d={key:0},r=(0,n._)("p",{style:{"font-weight":"bold"}},"you are the owner of following projects",-1),c=(0,n._)("p",{style:{"font-weight":"bold"}},"you are a member of following projects",-1),f=(0,n._)("br",null,null,-1),w={key:1},s=(0,n._)("p",{style:{"font-weight":"bold"}},"owner of",-1),p=["href"],h=(0,n._)("p",{style:{"font-weight":"bold"}},"member of",-1),v=["href"],y=(0,n._)("div",null,null,-1),m={key:2},g=(0,n._)("div",null,null,-1);var _=(0,n.aZ)({__name:"Profile",setup(e){function o(){confirm("are you sure")&&fetch("/api/register",{method:"DELETE"}).then((e=>{200==e.status?location.href="/":(console.error(e),e.json().then(console.error))}))}function l(){fetch("/api/login",{method:"DELETE"}).then((()=>{window.location.href=window.location.href}))}const _=(0,i.iH)(null),b=new URLSearchParams(document.location.search);return fetch("/api/profile/?id="+b.get("id")).then((e=>e.json())).then((async e=>{200==e.status?(document.title=`Profile of ${e.body.payload.name} | Teameet`,_.value=e.body):console.error(e)})),(e,i)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("header",null,[(0,n.Wm)(t.Z)]),(0,n._)("main",null,[u,_.value?.ownInfo?((0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("p",null,"Hello, there, "+(0,a.zw)(_.value.payload.name)+"!",1),(0,n._)("p",null,"your email is: "+(0,a.zw)(_.value.payload.email),1),(0,n._)("p",null," you joined our community on: "+(0,a.zw)(new Date(_.value.payload.createdAt)),1),(0,n._)("p",null,"your bio: "+(0,a.zw)(_.value.payload.bio),1),r,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.value.payload.ownerOf,(e=>((0,n.wg)(),(0,n.iD)("p",{key:e.id},(0,a.zw)(e.name)+": "+(0,a.zw)(e.description),1)))),128)),c,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.value.payload.memberOf,(e=>((0,n.wg)(),(0,n.iD)("p",{key:e.id},(0,a.zw)(e.name)+": "+(0,a.zw)(e.description),1)))),128)),(0,n._)("button",{onClick:i[0]||(i[0]=e=>l())},"log out"),f,(0,n._)("button",{onClick:i[1]||(i[1]=e=>o())},"delete my account")])):_.value?((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("p",null,"This is the beautiful profile of "+(0,a.zw)(_.value.payload.name)+"!",1),(0,n._)("p",null,"bio: "+(0,a.zw)(_.value.payload.bio),1),s,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.value.payload.ownerOf,(e=>((0,n.wg)(),(0,n.iD)("p",{key:e.id},[(0,n._)("a",{href:"/project/?id="+e.id},(0,a.zw)(e.name),9,p),(0,n.Uk)(": "+(0,a.zw)(e.description),1)])))),128)),h,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.value.payload.memberOf,(e=>((0,n.wg)(),(0,n.iD)("p",{key:e.id},[(0,n._)("a",{href:"/project/?id="+e.id},(0,a.zw)(e.name),9,v),(0,n.Uk)(": "+(0,a.zw)(e.description),1)])))),128))])):(0,n.kq)("",!0),y,_.value?.ownInfo?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",m)),g])]))}});const b=_;var k=b}}]);
//# sourceMappingURL=307.f0261a5f.js.map